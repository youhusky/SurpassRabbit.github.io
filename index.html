<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Hexo</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/01/react-navigation使用技巧/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/01/react-navigation使用技巧/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-01T16:28:26+08:00">
                2018-08-01
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/01/react-navigation使用技巧/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2018/08/01/react-navigation使用技巧/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="react-navigation-使用技巧"><a href="#react-navigation-使用技巧" class="headerlink" title="react-navigation 使用技巧"></a>react-navigation 使用技巧</h1><h1 id=""><a href="#" class="headerlink" title="# "></a># <img src="http://upload-images.jianshu.io/upload_images/1338142-fd6d57f3dcdce2fe.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="react-native.jpeg"></h1><h3 id="本文是基于最新的react-navigation-2-5-3来书写的。"><a href="#本文是基于最新的react-navigation-2-5-3来书写的。" class="headerlink" title="本文是基于最新的react-navigation^2.5.3来书写的。"></a>本文是基于最新的react-navigation<code>^2.5.3</code>来书写的。</h3><h3 id="如果遇到什么问题可以在评论区回复，或者加QQ群397885169讨论"><a href="#如果遇到什么问题可以在评论区回复，或者加QQ群397885169讨论" class="headerlink" title="如果遇到什么问题可以在评论区回复，或者加QQ群397885169讨论"></a>如果遇到什么问题可以在评论区回复，或者加QQ群397885169讨论</h3><h3 id="因为react-navigation之前存在的问题相对较多，本文更新会稍慢，而且，我现在项目使用的是基于它封装的react-native-router-fluxV4版本，现在也推荐给大家使用。在下面的文章中，我提供了简易的Demo，react-native-router-flux提供了更多的API和方法教给用户使用，如果遇到不会的问题，欢迎加群讨论"><a href="#因为react-navigation之前存在的问题相对较多，本文更新会稍慢，而且，我现在项目使用的是基于它封装的react-native-router-fluxV4版本，现在也推荐给大家使用。在下面的文章中，我提供了简易的Demo，react-native-router-flux提供了更多的API和方法教给用户使用，如果遇到不会的问题，欢迎加群讨论" class="headerlink" title="因为react-navigation之前存在的问题相对较多，本文更新会稍慢，而且，我现在项目使用的是基于它封装的react-native-router-fluxV4版本，现在也推荐给大家使用。在下面的文章中，我提供了简易的Demo，react-native-router-flux提供了更多的API和方法教给用户使用，如果遇到不会的问题，欢迎加群讨论"></a>因为<code>react-navigation</code>之前存在的问题相对较多，本文更新会稍慢，而且，我现在项目使用的是基于它封装的<code>react-native-router-flux</code>V4版本，现在也推荐给大家使用。在下面的文章中，我提供了简易的Demo，<code>react-native-router-flux</code>提供了更多的API和方法教给用户使用，如果遇到不会的问题，欢迎加群讨论</h3><h3 id="react-native-router-flux使用技巧（API篇）"><a href="#react-native-router-flux使用技巧（API篇）" class="headerlink" title="react-native-router-flux使用技巧（API篇）"></a><a href="http://www.jianshu.com/p/37428d579cf6" target="_blank" rel="noopener">react-native-router-flux使用技巧（API篇）</a></h3><h2 id="识兔，一款用来识别图片的开源项目，在未来还会添加更多有意思的东西"><a href="#识兔，一款用来识别图片的开源项目，在未来还会添加更多有意思的东西" class="headerlink" title="识兔，一款用来识别图片的开源项目，在未来还会添加更多有意思的东西"></a><a href="https://github.com/RabbitDream/ShiTu" target="_blank" rel="noopener">识兔，一款用来识别图片的开源项目，在未来还会添加更多有意思的东西</a></h2><h3 id="react-navigation的Demo"><a href="#react-navigation的Demo" class="headerlink" title="react-navigation的Demo"></a><a href="https://github.com/RabbitDream/ReactNavigationDemo" target="_blank" rel="noopener">react-navigation的Demo</a></h3><h3 id="react-navigation使用技巧-进阶篇"><a href="#react-navigation使用技巧-进阶篇" class="headerlink" title="react-navigation使用技巧(进阶篇)"></a><a href="http://www.jianshu.com/p/b877115fff1b" target="_blank" rel="noopener">react-navigation使用技巧(进阶篇)</a></h3><h2 id="什么是react-navigation"><a href="#什么是react-navigation" class="headerlink" title="什么是react-navigation?"></a>什么是react-navigation?</h2><p><code>react-native</code>从开源至今，一直存在几个无法解决的毛病，偶尔就会复发让人隐隐作痛，提醒你用的不是原生，其中包括列表的复用问题，导航跳转不流畅的问题等等。<br>终于facebook坐不住了，在前一段时间开始推荐使用<code>react-navigation</code>，并且在0.44发布的时将之前一直存在的<code>Navigator</code>废弃了。<br><code>react-navigation</code>是致力于解决导航卡顿，数据传递，Tabbar和navigator布局，支持<code>redux</code>。虽然现在功能还不完善，但基本是可以在项目中推荐使用的。</p>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><p><code>react-navigation</code>分为三个部分。<br><code>StackNavigator</code>类似顶部导航条，用来跳转页面和传递参数。<br><code>TabNavigator</code>类似底部标签栏，用来区分模块。<br><code>DrawerNavigator</code>抽屉，类似从App左侧滑出一个页面，在这里不做讲解。<br>下面会分开讲解官网提供的配置方法，但顺序可能会官网不一样。</p>
<h1 id="React-Navigation-V2版使用教程"><a href="#React-Navigation-V2版使用教程" class="headerlink" title="React-Navigation V2版使用教程"></a>React-Navigation V2版使用教程</h1><h5 id="距离我上一个版本的react-navigation教程已经有1年多的时间了，虽然一直在缝缝补补，但那个教程真的老了。正好react-navigation-V2版本也即将要正式发布了，趁着这次机会重新梳理一下教程，并把之前的坑和遗憾填补一下。"><a href="#距离我上一个版本的react-navigation教程已经有1年多的时间了，虽然一直在缝缝补补，但那个教程真的老了。正好react-navigation-V2版本也即将要正式发布了，趁着这次机会重新梳理一下教程，并把之前的坑和遗憾填补一下。" class="headerlink" title="距离我上一个版本的react-navigation教程已经有1年多的时间了，虽然一直在缝缝补补，但那个教程真的老了。正好react-navigation V2版本也即将要正式发布了，趁着这次机会重新梳理一下教程，并把之前的坑和遗憾填补一下。"></a>距离我上一个版本的<code>react-navigation</code>教程已经有1年多的时间了，虽然一直在缝缝补补，但那个教程真的老了。正好<code>react-navigation V2版本</code>也即将要正式发布了，趁着这次机会重新梳理一下教程，并把之前的坑和遗憾填补一下。</h5><blockquote>
<p>我会将本文分成三部分，第一部分是介绍API，第二部分是常用属性方法，第三部分是使用小技巧。</p>
</blockquote>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h2 id="createSwitchNavigator"><a href="#createSwitchNavigator" class="headerlink" title="createSwitchNavigator"></a><code>createSwitchNavigator</code></h2><blockquote>
<p><code>SwitchNavigator</code>的目的是一次只显示一个屏幕。默认情况下，它不处理回退操作，并在您切换时将路由重置为默认状态。这是我们从登录流程（包含注册，登录，忘记密码等）到主屏幕的必要流程。</p>
<h5 id="这个方法在1-x中叫做SwitchNavigator，在2-x中统一命名为createSwitchNavigator"><a href="#这个方法在1-x中叫做SwitchNavigator，在2-x中统一命名为createSwitchNavigator" class="headerlink" title="这个方法在1.x中叫做SwitchNavigator，在2.x中统一命名为createSwitchNavigator"></a>这个方法在1.x中叫做<code>SwitchNavigator</code>，在2.x中统一命名为<code>createSwitchNavigator</code></h5></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">createSwitchNavigator(RouteConfigs, SwitchNavigatorConfig);</span><br></pre></td></tr></table></figure>
<h3 id="RouteConfigs"><a href="#RouteConfigs" class="headerlink" title="RouteConfigs"></a><code>RouteConfigs</code></h3><blockquote>
<p>路由的配置表，详细配置可以参考下面的<code>createStackNavigator</code></p>
</blockquote>
<h3 id="SwitchNavigatorConfig"><a href="#SwitchNavigatorConfig" class="headerlink" title="SwitchNavigatorConfig"></a><code>SwitchNavigatorConfig</code></h3><blockquote>
<p><code>SwitchNavigator</code>属性</p>
</blockquote>
<ul>
<li><code>initialRouteName</code> - 第一次加载时初始选项卡路由的routeName。</li>
<li><code>resetOnBlur</code> - 切换离开屏幕时，重置所有嵌套导航器的状态。默认为<code>true</code>。</li>
<li><code>paths</code> - 提供<code>routeName</code>到<code>path</code>的深度链接，它会覆盖<code>RouteConfigs</code>中设置的路径。</li>
<li><code>backBehavior</code> - 后退按钮是否会导致标签切换到初始路由？如果是，则设置为<code>initialRoute</code>，否则<code>none</code>。默认为<code>none</code>。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">export default createSwitchNavigator(</span><br><span class="line">  &#123;</span><br><span class="line">    AuthLoading: AuthLoadingScreen,</span><br><span class="line">    App: AppStack,</span><br><span class="line">    Auth: AuthStack,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    initialRouteName: &apos;AuthLoading&apos;,</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="createStackNavigator"><a href="#createStackNavigator" class="headerlink" title="createStackNavigator"></a><code>createStackNavigator</code></h2><blockquote>
<p>配置路由属性和参数</p>
<h6 id="这个方法在1-x中叫做StackNavigator，在2-x中统一命名为createSwitchNavigator"><a href="#这个方法在1-x中叫做StackNavigator，在2-x中统一命名为createSwitchNavigator" class="headerlink" title="这个方法在1.x中叫做StackNavigator，在2.x中统一命名为createSwitchNavigator"></a>这个方法在1.x中叫做<code>StackNavigator</code>，在2.x中统一命名为<code>createSwitchNavigator</code></h6></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">createStackNavigator(RouteConfigs, StackNavigatorConfig);</span><br></pre></td></tr></table></figure>
<h4 id="RouteConfigs-1"><a href="#RouteConfigs-1" class="headerlink" title="RouteConfigs"></a><code>RouteConfigs</code></h4><ul>
<li><code>screen</code> - 对应界面名称，是一个<code>React</code>组件</li>
<li><code>path</code> - 深度链接路径，从其他App或者web跳转到该App需要设置该路径</li>
<li><code>navigationOptions</code> -  用于屏幕的默认导航选项</li>
</ul>
<h4 id="StackNavigatorConfig"><a href="#StackNavigatorConfig" class="headerlink" title="StackNavigatorConfig"></a><code>StackNavigatorConfig</code></h4><h5 id="可选的路由属性"><a href="#可选的路由属性" class="headerlink" title="可选的路由属性"></a>可选的路由属性</h5><ul>
<li><code>initialRouteName</code> - 设置默认屏幕。必须为路由配置中的某个<code>screen</code>。</li>
<li><code>initialRouteParams</code> - 初始路由路线的参数。</li>
<li><code>navigationOptions</code> - 用于屏幕的默认导航选项。</li>
<li><code>paths</code> - 覆盖路由配置中设置的路径的映射。</li>
</ul>
<h5 id="可选的视觉选项"><a href="#可选的视觉选项" class="headerlink" title="可选的视觉选项"></a>可选的视觉选项</h5><ul>
<li><p><code>mode</code> - 定义渲染和转换的样式</p>
<ul>
<li><code>card</code> - 使用标准的iOS和Android屏幕转换。这是默认属性。</li>
<li><code>modal</code> - 使屏幕从底部滑入，这是一种常见的iOS模式。只适用于iOS，对Android没有影响。</li>
</ul>
</li>
<li><code>headerMode</code> - 定义如何呈现标题<ul>
<li><code>float</code> - 在屏幕更改时渲染保留在顶部的单个标题和动画。这是iOS上的常见效果。</li>
<li><code>screen</code> - 每个屏幕都附有一个标题，标题与屏幕一起淡入和淡出。这是Android上的常见效果。</li>
<li><code>none</code> - 不会显示标题。</li>
</ul>
</li>
<li><code>headerTransitionPreset</code> - 指定标题在<code>headerMode: float</code>启用时应该如何从一个屏幕切换到另一个屏幕。<ul>
<li><code>fade-in-place</code> - 标题组件在不移动的情况下淡入淡出，类似于iOS的Twitter，Instagram和Facebook应用程序。这是默认值。</li>
<li><code>uikit</code> -  iOS的默认效果。</li>
</ul>
</li>
<li><code>cardStyle</code> - 使用此道具覆盖或扩展堆栈中单个卡的默认样式。</li>
<li><code>transitionConfig</code> - 函数返回与默认屏幕转换合并的对象（<a href="https://github.com/react-navigation/react-navigation/blob/master/flow/react-navigation.js" target="_blank" rel="noopener">查看类型定义</a>中的TransitionConfig ）。提供的函数将传递以下参数：<ul>
<li><code>transitionProps</code> - 新屏幕的过渡转换。</li>
<li><code>prevTransitionProps</code> - 旧屏幕的过渡转换。</li>
<li><code>isModal</code> - 指定屏幕是否为模态。</li>
</ul>
</li>
<li><code>onTransitionStart</code> - 跳转动画即将开始时要调用的函数。</li>
<li><code>onTransitionEnd</code> -  跳转动画完成后调用的函数。</li>
</ul>
<h4 id="navigationOptions"><a href="#navigationOptions" class="headerlink" title="navigationOptions"></a><code>navigationOptions</code></h4><blockquote>
<p>导航页面的属性和方法</p>
</blockquote>
<ul>
<li><p><code>title</code> - 可用作的<code>headerBackTitle</code>的标题。此外，将用作<code>tabBarLabel</code>（如果嵌套在TabNavigator中）或<code>drawerLabel</code>（如果嵌套在DrawerNavigator中）的回退标题。</p>
</li>
<li><p><code>header</code> - 返回一个<code>React</code>元素，用来作为标题。设置<code>null</code>会隐藏标题。</p>
</li>
<li><code>headerTitle</code> - 可以传入字符串，<code>React Element</code>，<code>React Component</code>。默认是用上面的<code>title</code>作为标题。当使用<code>Component</code>时，它接受<code>allowFontScaling</code>，<code>style</code>和<code>children</code>作为属性。<code>title</code>会被放在<code>children</code>中。</li>
<li><code>headerTitleAllowFontScaling</code> - 标题字体是否应该缩放以遵循系统设置。默认值为true。</li>
<li><code>headerBackImage</code> - 接受<code>React Element</code>或者<code>Component</code>用来显示自定义的后退按钮中的图片。当使用组件时，它会得到<code>(tintColor，title)</code>参数。默认为<code>react-navigation/views/assets/back-icon.png</code>路径下的图片，这是区分平台的默认图标。</li>
<li><code>headerBackTitle</code> - iOS上后退按钮使用的文字，传递<code>null</code>会禁用标签。默认为前一场景<code>headerTitle</code>。</li>
<li><code>headerTruncatedBackTitle</code> - 当后退按钮使用的标题字符串<code>headerBackTitle</code>不适合屏幕时(比如说文字过长)，会默认显示<code>Back</code>。</li>
<li><code>headerRight</code> - 接受<code>React Element</code>将会显示在标题的右侧。</li>
<li><code>headerLeft</code> - 接受<code>React Element</code>或者<code>React Component</code>将会显示在标题的左侧。当传递一个组件的时候，会得到（<code>onPress，title，titleStyle</code>还有更多，请参考<code>Header.js</code>以获得完整的列表）。</li>
<li><code>headerStyle</code> - 标题的样式</li>
<li><code>headerForceInset</code> - 允许将forceInset对象传递给标题中，使用的内部SafeAreaView。</li>
<li><code>headerTitleStyle</code> - 标题组件的样式</li>
<li><code>headerBackTitleStyle</code> - 标题上后退按钮文字样式</li>
<li><code>headerTintColor</code> - 标题组件的色调</li>
<li><code>headerPressColorAndroid</code> - 材质纹波的颜色（仅限Android&gt; = 5.0）</li>
<li><code>headerTransparent</code> - 默认为<code>false</code>。如果为<code>true</code>标题将没有背景，除非你明确提供了<code>headerStyle</code>或<code>headerBackground</code>。</li>
<li><code>headerBackground</code> - 将此与headerTransparent一起使用，以提供一个组件在标题的背景中呈现。例如，您可以将其用于模糊视图，以创建半透明标题。</li>
<li><code>gesturesEnabled</code> - 是否可以使用手势来返回到上一页。在iOS上默认为<code>true</code>，在Android上为<code>false</code>。</li>
<li><code>gestureResponseDistance</code> - 用于覆盖触摸从屏幕边缘开始识别手势的距离的对象。它具有以下属性：<ul>
<li><code>horizontal</code> - number - 水平方向的距离。默认为25。</li>
<li><code>vertical</code> - number - 垂直方向的距离。默认为135。</li>
</ul>
</li>
<li><code>gestureDirection</code> - 传递字符串用来覆盖关闭手势的方向。<code>default</code>为正常行为或<code>inverted</code>从右到左滑动。</li>
</ul>
<h4 id="Navigator-Props"><a href="#Navigator-Props" class="headerlink" title="Navigator Props"></a><code>Navigator Props</code></h4><blockquote>
<p>由StackNavigator（…）创建的导航器组件采用以下道具：</p>
</blockquote>
<ul>
<li><code>screenProps</code> - 将其他选项传递给子屏幕</li>
</ul>
<h2 id="createTabNavigator"><a href="#createTabNavigator" class="headerlink" title="createTabNavigator"></a><code>createTabNavigator</code></h2><blockquote>
<p><code>createTabNavigator</code>已弃用。请改用<code>createBottomTabNavigator</code>和/或<code>createMaterialTopTabNavigator</code>。</p>
</blockquote>
<h2 id="createBottomTabNavigator"><a href="#createBottomTabNavigator" class="headerlink" title="createBottomTabNavigator"></a><code>createBottomTabNavigator</code></h2><blockquote>
<p>屏幕底部的简单标签栏，可让您在不同路由之间切换。路由是被懒惰初始化的 - 它们的屏幕组件直到第一次选中时才会初始化。</p>
<h6 id="这个方法在1-x中叫做TabNavigator，在2-x中统一命名为createBottomTabNavigator"><a href="#这个方法在1-x中叫做TabNavigator，在2-x中统一命名为createBottomTabNavigator" class="headerlink" title="这个方法在1.x中叫做TabNavigator，在2.x中统一命名为createBottomTabNavigator"></a>这个方法在1.x中叫做<code>TabNavigator</code>，在2.x中统一命名为<code>createBottomTabNavigator</code></h6></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">createBottomTabNavigator(RouteConfigs, BottomTabNavigatorConfig);</span><br></pre></td></tr></table></figure>
<h4 id="RouteConfigs-2"><a href="#RouteConfigs-2" class="headerlink" title="RouteConfigs"></a><code>RouteConfigs</code></h4><blockquote>
<p>属性请参考<code>createStackNavigator</code>。<br>它的<code>navigationOptions</code>和<code>createStackNavigator</code>不一样，下面会有说明。</p>
</blockquote>
<h4 id="BottomTabNavigatorConfig"><a href="#BottomTabNavigatorConfig" class="headerlink" title="BottomTabNavigatorConfig"></a><code>BottomTabNavigatorConfig</code></h4><ul>
<li><p><code>initialRouteName</code> - 第一次加载时初始选项卡路由的routeName。</p>
</li>
<li><p><code>order</code> - 定义选项卡顺序的routeNames数组。</p>
</li>
<li><code>paths</code> - 提供<code>routeName</code>到<code>path</code>的深度链接，它会覆盖<code>RouteConfigs</code>中设置的路径。</li>
<li><code>backBehavior</code> - 后退按钮是否会导致标签切换到初始路由？如果是，则设置为<code>initialRoute</code>，否则<code>none</code>。默认为<code>initialRoute</code>。</li>
<li><code>tabBarComponent</code> - Options，覆盖用作标签栏的组件。</li>
<li><code>tabBarOptions</code> - 标签栏具有如下属性：<ul>
<li><code>activeTintColor</code> - 活动选项卡的标签和图标颜色。(选中)</li>
<li><code>activeBackgroundColor</code> - 活动选项卡的背景颜色。(选中)</li>
<li><code>inactiveTintColor</code> - 非活动选项卡的标签和图标颜色。(未选中)</li>
<li><code>inactiveBackgroundColor</code> - 非活动选项卡的背景颜色。(未选中)</li>
<li><code>showLabel</code> - 是否显示标签，默认为<code>true</code>。</li>
<li><code>style</code> - 标签栏的样式。</li>
<li><code>labelStyle</code> - 标签栏文字的样式。</li>
<li><code>tabStyle</code> - 选项卡的样式。</li>
<li><code>allowFontScaling</code> - 标题字体是否应该缩放以遵循系统设置。默认值为true。</li>
</ul>
</li>
</ul>
<h4 id="navigationOptions-1"><a href="#navigationOptions-1" class="headerlink" title="navigationOptions"></a><code>navigationOptions</code></h4><blockquote>
<p>标签栏的属性和方法</p>
</blockquote>
<ul>
<li><p><code>title</code> - 通用标题可以用作<code>headerTitle</code>和<code>tabBarLabel</code>。</p>
</li>
<li><p><code>tabBarVisible</code> - 显示或隐藏底部标签栏，默认为<code>true</code>，不隐藏。</p>
</li>
<li><code>tabBarIcon</code> - <code>React Element</code>或给定<code>{focused：boolean，tintColor：string}</code>的函数返回一个<code>React.Node</code>，用来显示在标签栏中。</li>
<li><code>tabBarLabel</code> - 接收字符串、<code>React Element</code>或者给定<code>{focused：boolean，tintColor：string}</code>的函数返回一个<code>React.Node</code>，用来显示在标签栏中。如果未定义，会使用<code>title</code>作为默认值。如果想要隐藏，可以参考上面的<code>tabBarOptions.showLabel</code>。</li>
<li><code>tabBarOnPress</code> - 标签栏点击事件回调，接受一个对象，其中包含如下：</li>
</ul>
<p><img src="https://upload-images.jianshu.io/upload_images/1338142-d159d429fe9f22dc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="tabBarObj 2.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">tabBarOnPress: async (obj: any) =&gt; &#123;</span><br><span class="line">			console.log(obj);</span><br><span class="line">			try &#123;</span><br><span class="line">				const userData = await AsyncStorage.getItem(&apos;USER_INFO&apos;);</span><br><span class="line">				if (userData) &#123;</span><br><span class="line">					obj.defaultHandler();</span><br><span class="line">				&#125;</span><br><span class="line">				else &#123;</span><br><span class="line">					obj.navigation.navigate(&apos;Login&apos;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; catch (e) &#123;</span><br><span class="line">				Toast.show(e.message, &apos;center&apos;, 1000);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<h2 id="createMaterialTopTabNavigator"><a href="#createMaterialTopTabNavigator" class="headerlink" title="createMaterialTopTabNavigator"></a><code>createMaterialTopTabNavigator</code></h2><blockquote>
<p>实现了类似<code>react-native-scrollable-tab-view</code>的左右滚动效果，但每个tab页是没有懒加载的，就是说，当使用这个生成导航的时候，每个页面都会初始化，对内存影响较大。<br>这个导航是基于<code>react-native-tab-view</code>实现的，如果有需要可以研究。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">createMaterialTopTabNavigator(RouteConfigs, TabNavigatorConfig);</span><br></pre></td></tr></table></figure>
<h4 id="RouteConfigs-3"><a href="#RouteConfigs-3" class="headerlink" title="RouteConfigs"></a><code>RouteConfigs</code></h4><blockquote>
<p>属性请参考<code>createStackNavigator</code>。</p>
</blockquote>
<h4 id="TabNavigatorConfig"><a href="#TabNavigatorConfig" class="headerlink" title="TabNavigatorConfig"></a><code>TabNavigatorConfig</code></h4><ul>
<li><p><code>initialRouteName</code> - 第一次加载时初始选项卡路由的routeName。</p>
</li>
<li><p><code>order</code> - 定义选项卡顺序的routeNames数组。</p>
</li>
<li><code>paths</code> - 提供<code>routeName</code>到<code>path</code>的深度链接，它会覆盖<code>RouteConfigs</code>中设置的路径。</li>
<li><code>backBehavior</code> - 后退按钮是否会导致标签切换到初始路由？如果是，则设置为<code>initialRoute</code>，否则<code>none</code>。默认为<code>initialRoute</code>。</li>
<li><code>swipeEnabled</code> - 是否允许在标签之间滑动。</li>
<li><code>animationEnabled</code> - 改变标签时是否使用动画。</li>
<li><code>configureTransition</code> - 给定currentTransitionProps和nextTransitionProps返回一个描述选项卡之间动画的配置对象的函数。</li>
<li><code>initialLayout</code> - 包含初始<code>height</code>和可选对象<code>width</code>，可以传递以防止<code>react-native-tab-view</code>出现一帧的延迟。</li>
<li><code>tabBarComponent</code> - Options，覆盖用作标签栏的组件。</li>
<li><code>tabBarOptions</code> - 标签栏具有如下属性：<ul>
<li><code>activeTintColor</code> - 活动选项卡的标签和图标颜色。(选中)</li>
<li><code>inactiveTintColor</code> - 非活动选项卡的标签和图标颜色。(未选中)</li>
<li><code>showIcon</code> - 是否显示标签图标，默认为<code>false</code>。</li>
<li><code>showLabel</code> - 是否显示标签，默认为<code>true</code>。</li>
<li><code>upperCaseLabel</code> - 是否使标签大写，默认为<code>true</code>。</li>
<li><code>pressColor</code> - 纹波的颜色（仅限Android&gt; = 5.0）。</li>
<li><code>pressOpacity</code> - 按下标签的不透明度（仅iOS和Android &lt;5.0）。</li>
<li><code>scrollEnabled</code> - 是否启用可滚动标签。</li>
<li><code>tabStyle</code> - 选项卡的样式。</li>
<li><code>indicatorStyle</code> - 选项卡指示符的样式（选项卡底部线的颜色）。</li>
<li><code>labelStyle</code> - 标签栏文字的样式。</li>
<li><code>iconStyle</code> - 选项卡图标的样式。</li>
<li><code>style</code> -  标签栏的样式。</li>
<li><code>allowFontScaling</code> - 标题字体是否应该缩放以遵循系统设置。默认值为<code>true</code>。</li>
</ul>
</li>
</ul>
<h4 id="navigationOptions-2"><a href="#navigationOptions-2" class="headerlink" title="navigationOptions"></a><code>navigationOptions</code></h4><ul>
<li><code>title</code> - 通用标题可以用作<code>headerTitle</code>和<code>tabBarLabel</code>。</li>
<li><code>swipeEnabled</code> - 如果未设置，则遵循<code>TabNavigatorConfig</code>选项<code>swipeEnabled</code>。启用或禁用标签之间的滑动操作为<code>true</code>或<code>false</code>。</li>
<li><code>tabBarIcon</code> - <code>React Element</code>或给定<code>{focused：boolean，tintColor：string}</code>的函数返回一个<code>React.Node</code>，用来显示在标签栏中。</li>
<li><code>tabBarLabel</code> - 接收字符串、<code>React Element</code>或者给定<code>{focused：boolean，tintColor：string}</code>的函数返回一个<code>React.Node</code>，用来显示在标签栏中。如果未定义，会使用<code>title</code>作为默认值。如果想要隐藏，可以参考上面的<code>tabBarOptions.showLabel</code>。</li>
<li><code>tabBarOnPress</code> - 标签栏点击事件回调，接受一个对象，其中包含如下：</li>
</ul>
<p><img src="https://upload-images.jianshu.io/upload_images/1338142-b3e1c8cd294f4548.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="tabBarObj 2.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">tabBarOnPress: async (obj: any) =&gt; &#123;</span><br><span class="line">			console.log(obj);</span><br><span class="line">			try &#123;</span><br><span class="line">				const userData = await AsyncStorage.getItem(&apos;USER_INFO&apos;);</span><br><span class="line">				if (userData) &#123;</span><br><span class="line">					obj.defaultHandler();</span><br><span class="line">				&#125;</span><br><span class="line">				else &#123;</span><br><span class="line">					obj.navigation.navigate(&apos;Login&apos;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; catch (e) &#123;</span><br><span class="line">				Toast.show(e.message, &apos;center&apos;, 1000);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<h2 id="createDrawerNavigator"><a href="#createDrawerNavigator" class="headerlink" title="createDrawerNavigator"></a><code>createDrawerNavigator</code></h2><blockquote>
<p>创建侧边栏导航，有一些坑，需要用过才知道。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">createDrawerNavigator(RouteConfigs, DrawerNavigatorConfig)</span><br></pre></td></tr></table></figure>
<h4 id="RouteConfigs-4"><a href="#RouteConfigs-4" class="headerlink" title="RouteConfigs"></a><code>RouteConfigs</code></h4><blockquote>
<p>属性请参考<code>createStackNavigator</code>。</p>
</blockquote>
<h4 id="DrawerNavigatorConfig"><a href="#DrawerNavigatorConfig" class="headerlink" title="DrawerNavigatorConfig"></a><code>DrawerNavigatorConfig</code></h4><ul>
<li><p><code>drawerWidth</code> - 抽屉的宽度或返回一个新的函数。</p>
</li>
<li><p><code>drawerPosition</code> - 抽屉出现的方向<code>left</code>或<code>right</code>，默认<code>left</code>。</p>
</li>
<li><code>contentComponent</code> - 用于呈现抽屉内容的组件，例如导航项。接收<code>navigation</code>抽屉的属性。默认为<code>DrawerItems</code>。有关更多信息，请参见下文。</li>
<li><code>contentOptions</code> - 配置抽屉内容，请参见下文。</li>
<li><code>useNativeAnimations</code> - 启用本地动画。默认是<code>true</code>。</li>
<li><code>drawerBackgroundColor</code> - 设置抽屉的背景背景。默认是white。</li>
<li><code>initialRouteName</code> - 第一次加载时初始选项卡路由的routeName。</li>
<li><code>order</code> - 定义选项卡顺序的routeNames数组。</li>
<li><code>paths</code> - 提供<code>routeName</code>到<code>path</code>的深度链接，它会覆盖<code>RouteConfigs</code>中设置的路径。</li>
<li><code>backBehavior</code> - 后退按钮是否会导致标签切换到初始路由？如果是，则设置为<code>initialRoute</code>，否则<code>none</code>。默认为<code>initialRoute</code>。</li>
</ul>
<h4 id="contentComponent"><a href="#contentComponent" class="headerlink" title="contentComponent"></a><code>contentComponent</code></h4><blockquote>
<p>提供自定义的抽屉效果<br>抽屉的默认组件是可滚动的，只包含RouteConfig中路由的链接。您可以轻松地覆盖默认组件，以向抽屉中添加页眉，页脚或其他内容。默认情况下，抽屉可滚动并支持iPhone X安全区域。如果您自定义内容，请务必将内容包装在SafeAreaView中</p>
</blockquote>
<h4 id="DrawerItems的contentOptions"><a href="#DrawerItems的contentOptions" class="headerlink" title="DrawerItems的contentOptions"></a><code>DrawerItems</code>的<code>contentOptions</code></h4><ul>
<li><p><code>items</code> - 路由数组，可以修改或覆盖。</p>
</li>
<li><p><code>activeItemKey</code> - 识别活动路线的key。</p>
</li>
<li><code>activeTintColor</code> - 活动标签的标签和图标颜色。(选中)</li>
<li><code>activeBackgroundColor</code> - 活动标签的背景颜色。(选中)</li>
<li><code>inactiveTintColor</code> - 不活动标签的标签和图标颜色。(未选中)</li>
<li><code>inactiveBackgroundColor</code> - 不活动标签的背景颜色。(未选中)</li>
<li><code>onItemPress(route)</code> - 按下某个Item时调用的函数。</li>
<li><code>itemsContainerStyle</code> - item内容的样式。</li>
<li><code>itemStyle</code> - 单个<code>Item</code>样式，其中可以包含图标和标签。</li>
<li><code>labelStyle</code> - 当标签是字符串时，会覆盖文字的样式。</li>
<li><code>activeLabelStyle</code> - 当标签是字符串时，会覆盖选中的文字样式。</li>
<li><code>inactiveLabelStyle</code> - 当标签是字符串时，会覆盖未选中的文字样式。</li>
<li><code>iconContainerStyle</code> - 用来覆盖icon的样式</li>
</ul>
<h4 id="Screen-Navigation-Options"><a href="#Screen-Navigation-Options" class="headerlink" title="Screen Navigation Options"></a>Screen Navigation Options</h4><ul>
<li><p><code>title</code> - 通用标题可以用作<code>headerTitle</code>和<code>tabBarLabel</code>。</p>
</li>
<li><p><code>drawerLabel</code> - 可以传入字符串，React Element或给定<code>{focused：boolean，tintColor：string}</code>的函数返回一个<code>React.Node</code>，用来显示在抽屉边栏中。当不设置时，默认使用<code>title</code>。</p>
</li>
<li><code>drawerIcon</code> - React Element或给定<code>{focused：boolean，tintColor：string}</code>的函数返回一个<code>React.Node</code>，用来显示在抽屉边栏中。</li>
<li><code>drawerLockMode</code> - 指定抽屉的锁定模式。这也可以通过在顶级路由器上使用screenProps.drawerLockMode动态更新。</li>
</ul>
<p><code>enum(&#39;unlocked&#39;, &#39;locked-closed&#39;, &#39;locked-open&#39;)</code></p>
<h2 id="createMaterialBottomTabNavigator"><a href="#createMaterialBottomTabNavigator" class="headerlink" title="createMaterialBottomTabNavigator"></a><del><code>createMaterialBottomTabNavigator</code></del></h2><h4 id="这个方法在2-0正式版中被砍掉了，但官方文档没有更新，如果喜欢material风格，可以参考react-native-material-bottom-navigation"><a href="#这个方法在2-0正式版中被砍掉了，但官方文档没有更新，如果喜欢material风格，可以参考react-native-material-bottom-navigation" class="headerlink" title="这个方法在2.0正式版中被砍掉了，但官方文档没有更新，如果喜欢material风格，可以参考react-native-material-bottom-navigation"></a>这个方法在2.0正式版中被砍掉了，但官方文档没有更新，如果喜欢<code>material</code>风格，可以参考<a href="https://github.com/timomeh/react-native-material-bottom-navigation" target="_blank" rel="noopener">react-native-material-bottom-navigation</a></h4><h2 id="常用属性方法"><a href="#常用属性方法" class="headerlink" title="常用属性方法"></a>常用属性方法</h2><blockquote>
<p>这部分会分为<code>createStackNavigator</code>和<code>createDrawerNavigator</code>两部分，因为它们属性不太一样。</p>
</blockquote>
<h2 id="createStackNavigator-1"><a href="#createStackNavigator-1" class="headerlink" title="createStackNavigator"></a><code>createStackNavigator</code></h2><h3 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h3><p><img src="https://upload-images.jianshu.io/upload_images/1338142-081fdcbbc9cfc0da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="NavigationActions@2x.png"></p>
<blockquote>
<p>在新版的<code>react-navigation</code>中实现了很多常用的api，比如说<code>push</code>，<code>pop</code>，<code>popToTop</code>等常用方法，在本文中会将属性和使用方法简单说明。</p>
</blockquote>
<h2 id="NavigationActions"><a href="#NavigationActions" class="headerlink" title="NavigationActions"></a><code>NavigationActions</code></h2><ul>
<li><code>Navigate</code> - 用来跳转到其他路由的方法<ul>
<li><code>routeName</code> - String - 必须 - 在<code>RouteConfigs</code>中注册过的路由名称</li>
<li><code>params</code> - Object - 可选 - 传递的参数</li>
<li><code>action</code> - Object - 可选 - （高级）如果屏幕是导航器，则在子路由器中运行的子操作。本文档中描述的任何一项操作都可以设置为子操作。</li>
<li><code>key</code> - String - 可选 - 要导航到的路线的标识符。如果它已经存在，则返回到此路线。</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import &#123; NavigationActions &#125; from &apos;react-navigation&apos;;</span><br><span class="line">const navigateAction = NavigationActions.navigate(&#123;</span><br><span class="line">  routeName: &apos;Profile&apos;,</span><br><span class="line">  params: &#123;&#125;,</span><br><span class="line">  action: NavigationActions.navigate(&#123; routeName: &apos;SubProfileRoute&apos; &#125;),</span><br><span class="line">&#125;);</span><br><span class="line">this.props.navigation.dispatch(navigateAction);</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>Back</code> - 用来返回到上一个路由或其他路由</p>
<ul>
<li><code>Key</code> - String | null - 如果设置，导航将从给定的键返回。如果为空，导航将返回到上一级。</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123; NavigationActions &#125; from &apos;react-navigation&apos;;</span><br><span class="line">const backAction = NavigationActions.back(&#123;</span><br><span class="line">  key: &apos;Profile&apos;,</span><br><span class="line">&#125;);</span><br><span class="line">this.props.navigation.dispatch(backAction);</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>SetParams</code> </p>
<blockquote>
<p>在调用SetParams时，路由器将产生一个新的状态，该状态已经改变了由<code>key</code>标识的特定路由参数</p>
</blockquote>
<ul>
<li><code>params</code> - Object - 可选 - 新的参数被合并到现有的路径参数中。</li>
<li><code>key</code> - String - 必须 - 获取新参数的路由键。</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import &#123; NavigationActions &#125; from &apos;react-navigation&apos;;</span><br><span class="line"></span><br><span class="line">const setParamsAction = NavigationActions.setParams(&#123;</span><br><span class="line">  params: &#123; title: &apos;Hello&apos; &#125;,</span><br><span class="line">  key: &apos;screen-123&apos;,</span><br><span class="line">&#125;);</span><br><span class="line">this.props.navigation.dispatch(setParamsAction);</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>Reset</code> - 重置路由</p>
<blockquote>
<p><code>Reset</code>操作将重置整个导航状态并将其替换为新的导航。</p>
</blockquote>
<ul>
<li><p><code>index</code> - number - 必须 - 导航中<code>routes</code>活动路由的索引<code>state</code>。</p>
</li>
<li><p><code>actions</code> - array - 必须 - 将替换导航数组。</p>
</li>
<li><code>key</code> - string | null - 可选 - 如果设置，具有给定键的导航器将重置。如果为null，则根导航器将被重置。</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; StackActions, NavigationActions &#125; from &apos;react-navigation&apos;;</span><br><span class="line">const resetAction = StackActions.reset(&#123;</span><br><span class="line">  index: 0,</span><br><span class="line">  actions: [NavigationActions.navigate(&#123; routeName: &apos;Profile&apos; &#125;)],</span><br><span class="line">&#125;);</span><br><span class="line">this.props.navigation.dispatch(resetAction);</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>Replace</code> - 用新的route替换当前的route</p>
<blockquote>
<p>Replace操作将给定<code>key</code>上的路线替换为另一条路线。</p>
</blockquote>
<ul>
<li><p><code>key</code> - string - 必须 - 要替换​​路由的<code>key</code>。</p>
</li>
<li><p><code>newKey</code> - string - 用于替换路由的<code>key</code>。如果未提供，则自动生成。</p>
</li>
<li><code>routeName</code> - string - 用于替换路由的<code>routeName</code>。</li>
<li><code>params</code> - object - 要传入替换路由的参数。</li>
<li><code>action</code> - object - 可选的子操作。</li>
</ul>
</li>
<li><p><code>Push</code> - 入栈</p>
<blockquote>
<p><code>Push</code>操作会在堆栈顶部添加一条路径并向前导航。这与之前的不同之处在于，如果某个组件已经存在路由中，<code>navigate</code>则会弹出到堆栈中的较早版本。<code>Push</code>将始终添加在顶部，因此可以多次安装组件。</p>
</blockquote>
<ul>
<li><p><code>routeName</code> - string - 要跳转路由的<code>routeName</code>。</p>
</li>
<li><p><code>params</code> - object - 传递的参数，可以通过(this.props.navigation.state.params)找到。</p>
</li>
<li><code>action</code> - 子操作。</li>
</ul>
</li>
</ul>
<ul>
<li><p><code>pop(n)</code> - 出栈</p>
<blockquote>
<p><code>Pop</code>操作将使您回到堆栈中的前一个屏幕。<code>n</code>参数允许您指定要多少个屏幕出栈。</p>
</blockquote>
<ul>
<li><code>n</code> - number - 要出栈的屏幕数量。</li>
</ul>
</li>
<li><p><code>PopToTop</code> - 回到栈顶</p>
<blockquote>
<p><code>PopToTop</code>操作会将您带回堆栈中的第一个屏幕，解除所有其他屏幕。它的功能与<code>StackActions.pop({n: currentIndex})</code>类似。</p>
</blockquote>
</li>
</ul>
<p>———————————————-新老版本的分割线——————————————————–</p>
<h3 id="screenProps"><a href="#screenProps" class="headerlink" title="screenProps"></a>screenProps</h3><p>之前是没有介绍这个属性的，但经过这么久发现，很多人都不知道这个属性，不知道它能干嘛，在这里我就简单的介绍下</p>
<p><code>screenProps</code>：react-navigation自带的一个属性，属于<code>navigationOptions</code>的一个属性，可以全局控制<code>navigationOptions</code>中的某些值，比如说你想做换肤功能，修改这个属性绝对是最简单的方式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// 假设App就是项目中的入口文件，如果还不知道，可以看下Demo，在这里我将主题色通过screenProps属性修改成&apos;red&apos;</span><br><span class="line">&lt;App screenProps=&#123;&#123;themeColor:&apos;red&apos;&#125;&#125;&gt;</span><br><span class="line"></span><br><span class="line">// 在页面中就可以通过screenProps来直接改变了，这个在Demo</span><br><span class="line">中的Test2里面</span><br><span class="line"></span><br><span class="line">static navigationOptions = (&#123;navigation,screenProps&#125;) =&gt; (&#123;</span><br><span class="line">        // 这里面的属性和App.js的navigationOptions是一样的。</span><br><span class="line">                headerStyle:&#123;backgroundColor:screenProps?</span><br><span class="line">                screenProps.themeColor:</span><br><span class="line">                &apos;#4ECBFC&apos;&#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    )</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="StackNavigator-基础用法-属性介绍"><a href="#StackNavigator-基础用法-属性介绍" class="headerlink" title="StackNavigator 基础用法/属性介绍"></a>StackNavigator 基础用法/属性介绍</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const MyApp = StackNavigator(&#123;</span><br><span class="line">    // 对应界面名称</span><br><span class="line">    MyTab: &#123;</span><br><span class="line">        screen: MyTab,</span><br><span class="line">    &#125;,</span><br><span class="line">    Detail: &#123;</span><br><span class="line">        screen: Detail,</span><br><span class="line">        navigationOptions:&#123;</span><br><span class="line">            headerTitle:&apos;详情&apos;,</span><br><span class="line">            headerBackTitle:null,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    headerMode: &apos;screen&apos;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="导航配置"><a href="#导航配置" class="headerlink" title="导航配置"></a>导航配置</h4><p><code>screen</code>：对应界面名称，需要填入<code>import</code>之后的页面。</p>
<p><code>navigationOptions</code>：配置StackNavigator的一些属性。</p>
<ul>
<li><code>title</code>：标题，如果设置了这个导航栏和标签栏的title就会变成一样的，所以不推荐使用这个方法。</li>
<li><code>header</code>：可以设置一些导航的属性，当然如果想隐藏顶部导航条只要将这个属性设置为<code>null</code>就可以了。</li>
<li><code>headerTitle</code>：设置导航栏标题，推荐用这个方法。</li>
<li><code>headerBackTitle</code>：设置跳转页面左侧返回箭头后面的文字，默认是上一个页面的标题。可以自定义，也可以设置为<code>null</code></li>
<li><code>headerTruncatedBackTitle</code>：设置当上个页面标题不符合返回箭头后的文字时，默认改成”返回”。（上个页面的标题过长，导致显示不下，所以改成了短一些的。）</li>
<li><code>headerRight</code>：设置导航条右侧。可以是按钮或者其他。</li>
<li><code>headerLeft</code>：设置导航条左侧。可以是按钮或者其他。</li>
<li><code>headerStyle</code>：设置导航条的样式。背景色，宽高等。如果想去掉安卓导航条底部阴影可以添加<code>elevation: 0</code>，iOS下用shadowOpacity: 0。</li>
<li><code>headerTitleStyle</code>：设置导航条文字样式。安卓上如果要设置文字居中，只要添加<code>alignSelf:&#39;center&#39;</code>就可以了。在安卓上会遇到，如果左边有返回箭头导致文字还是没有居中的问题，最简单的解决思路就是在右边也放置一个空的按钮。<h6 id="在最新版本的react-navigation中，安卓居中可以使用-flex-1-textAlign-39-center-39-来实现。"><a href="#在最新版本的react-navigation中，安卓居中可以使用-flex-1-textAlign-39-center-39-来实现。" class="headerlink" title="在最新版本的react-navigation中，安卓居中可以使用 flex:1, textAlign: &#39;center&#39;来实现。"></a>在最新版本的<code>react-navigation</code>中，安卓居中可以使用 <code>flex:1, textAlign: &#39;center&#39;</code>来实现。</h6></li>
<li><code>headerBackTitleStyle</code>：设置导航条返回文字样式。</li>
<li><code>headerTintColor</code>：设置导航栏文字颜色。总感觉和上面重叠了。</li>
<li><code>headerPressColorAndroid</code>：安卓独有的设置颜色纹理，需要安卓版本大于5.0</li>
<li><code>gesturesEnabled</code>：是否支持滑动返回手势，iOS默认支持，安卓默认关闭</li>
<li><code>gestureResponseDistance</code>：对象覆盖触摸从屏幕边缘开始的距离，以识别手势。 它需要以下属性：<ul>
<li>horizontal - number - 水平方向的距离 默认为25。</li>
<li>vertical - number - 垂直方向的距离 默认为135。</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 设置滑动返回的距离</span><br><span class="line">gestureResponseDistance:&#123;horizontal:300&#125;,</span><br></pre></td></tr></table></figure>
<p><code>注：beta13新出的东西，挺有意思，以后可以手动控制返回了</code></p>
<h4 id="导航视觉效果"><a href="#导航视觉效果" class="headerlink" title="导航视觉效果"></a>导航视觉效果</h4><p><code>mode</code>：定义跳转风格。</p>
<ul>
<li><code>card</code>：使用iOS和安卓默认的风格。</li>
<li><code>modal</code>：iOS独有的使屏幕从底部画出。类似iOS的present效果</li>
</ul>
<p><code>headerMode</code>：边缘滑动返回上级页面时动画效果。</p>
<ul>
<li><code>float</code>：iOS默认的效果，可以看到一个明显的过渡动画。</li>
<li><code>screen</code>：滑动过程中，整个页面都会返回。</li>
<li><code>none</code>：没有动画。</li>
</ul>
<p><code>cardStyle</code>：自定义设置跳转效果。</p>
<p><code>transitionConfig</code>： 自定义设置滑动返回的配置。<br><code>onTransitionStart</code>：当转换动画即将开始时被调用的功能。<br><code>onTransitionEnd</code>：当转换动画完成，将被调用的功能。</p>
<p><code>path</code>：路由中设置的路径的覆盖映射配置。<br><code>initialRouteName</code>：设置默认的页面组件，必须是上面已注册的页面组件。<br><code>initialRouteParams</code>：初始路由的参数。</p>
<p><code>path</code>:path属性适用于其他app或浏览器使用url打开本app并进入指定页面。path属性用于声明一个界面路径，例如：【/pages/Home】。此时我们可以在手机浏览器中输入：app名称://pages/Home来启动该App，并进入Home界面。</p>
<h3 id="TabNavigator-基础用法-属性介绍"><a href="#TabNavigator-基础用法-属性介绍" class="headerlink" title="TabNavigator 基础用法/属性介绍"></a>TabNavigator 基础用法/属性介绍</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">const MyTab = TabNavigator(&#123;</span><br><span class="line">    ShiTu: &#123;</span><br><span class="line">        screen: ShiTu,</span><br><span class="line">        navigationOptions:&#123;</span><br><span class="line">            tabBarLabel: &apos;识兔&apos;,</span><br><span class="line">            tabBarIcon: (&#123;tintColor&#125;) =&gt; (</span><br><span class="line">                &lt;Image</span><br><span class="line">                    source=&#123;&#123;uri : &apos;识兔&apos;&#125;&#125;</span><br><span class="line">                    style=&#123;[tabBarIcon, &#123;tintColor: tintColor&#125;]&#125;</span><br><span class="line">                /&gt;</span><br><span class="line">            ),</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">    tabBarPosition: &apos;bottom&apos;,</span><br><span class="line">    swipeEnabled:false,</span><br><span class="line">    animationEnabled:false,</span><br><span class="line">    tabBarOptions: &#123;</span><br><span class="line">        style: &#123;</span><br><span class="line">            height:49</span><br><span class="line">        &#125;,</span><br><span class="line">        activeBackgroundColor:&apos;white&apos;,</span><br><span class="line">        activeTintColor:&apos;#4ECBFC&apos;,</span><br><span class="line">        inactiveBackgroundColor:&apos;white&apos;,</span><br><span class="line">        inactiveTintColor:&apos;#aaa&apos;,</span><br><span class="line">        showLabel:false,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="屏幕导航配置"><a href="#屏幕导航配置" class="headerlink" title="屏幕导航配置"></a>屏幕导航配置</h4><p><code>screen</code>：和导航的功能是一样的，对应界面名称，可以在其他页面通过这个screen传值和跳转。<br><code>navigationOptions</code>：配置TabNavigator的一些属性</p>
<ul>
<li><code>title</code>：标题，会同时设置导航条和标签栏的title，还是不推荐这种方式。</li>
<li><code>tabBarVisible</code>：是否隐藏标签栏。默认不隐藏(true)</li>
<li><code>tabBarIcon</code>：设置标签栏的图标。需要给每个都设置。</li>
<li><code>tabBarLabel</code>：设置标签栏的title。推荐这个方式。</li>
<li><code>tabBarOnPress</code>：设置tabBar的点击事件，内部提供了两个属性，一个方法(obj)。<br><code>beta13新添加的方法，使用方式有些奇葩，如果想要使用，请参照下面的代码</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tabBarOnPress:(obj)=&gt;&#123;</span><br><span class="line">            console.log(obj);</span><br><span class="line"></span><br><span class="line">            obj.jumpToIndex(obj.scene.index)</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure>
<h4 id="标签栏配置"><a href="#标签栏配置" class="headerlink" title="标签栏配置"></a>标签栏配置</h4><p><code>tabBarPosition</code>：设置tabbar的位置，iOS默认在底部，安卓默认在顶部。（属性值：’top’，’bottom’）<br><code>swipeEnabled</code>：是否允许在标签之间进行滑动。<br><code>animationEnabled</code>：是否在更改标签时显示动画。<br><code>lazy</code>：是否根据需要懒惰呈现标签，而不是提前制作，意思是在app打开的时候将底部标签栏全部加载，默认false,推荐改成true哦。<br><code>initialRouteName</code>： 设置默认的页面组件<br><code>backBehavior</code>：按 back 键是否跳转到第一个Tab(首页)， none 为不跳转</p>
<p><code>tabBarOptions</code>：配置标签栏的一些属性</p>
<h5 id="iOS属性"><a href="#iOS属性" class="headerlink" title="iOS属性"></a>iOS属性</h5><ul>
<li><code>activeTintColor</code>：label和icon的前景色 活跃状态下（选中）。</li>
<li><code>activeBackgroundColor</code>：label和icon的背景色 活跃状态下（选中） 。</li>
<li><code>inactiveTintColor</code>：label和icon的前景色 不活跃状态下(未选中)。</li>
<li><code>inactiveBackgroundColor</code>：label和icon的背景色 不活跃状态下（未选中）。</li>
<li><code>showLabel</code>：是否显示label，默认开启。</li>
<li><code>style</code>：tabbar的样式。</li>
<li><code>labelStyle</code>：label的样式。</li>
</ul>
<h5 id="安卓属性"><a href="#安卓属性" class="headerlink" title="安卓属性"></a>安卓属性</h5><ul>
<li><code>activeTintColor</code>：label和icon的前景色 活跃状态下（选中） 。</li>
<li><code>inactiveTintColor</code>：label和icon的前景色 不活跃状态下(未选中)。</li>
<li><code>showIcon</code>：是否显示图标，默认关闭。</li>
<li><code>showLabel</code>：是否显示label，默认开启。</li>
<li><code>style</code>：tabbar的样式。</li>
<li><code>labelStyle</code>：label的样式。</li>
<li><code>upperCaseLabel</code>：是否使标签大写，默认为true。</li>
<li><code>pressColor</code>：material涟漪效果的颜色（安卓版本需要大于5.0）。</li>
<li><code>pressOpacity</code>：按压标签的透明度变化（安卓版本需要小于5.0）。</li>
<li><code>scrollEnabled</code>：是否启用可滚动选项卡。</li>
<li><code>tabStyle</code>：tab的样式。</li>
<li><code>indicatorStyle</code>：标签指示器的样式对象（选项卡底部的行）。安卓底部会多出一条线，可以将<code>height</code>设置为0来暂时解决这个问题。</li>
<li><code>labelStyle</code>：label的样式。</li>
<li><code>iconStyle</code>：图标的样式。<br>ps：很多人问我,为什么安卓上的tabbar文字会下移, 是因为安卓比iOS多了一个属性,就是<code>iconStyle</code>,通过设置<code>labelStyle</code>和<code>iconStyle</code>两个样式,外加<code>style</code>的高度,来使效果更佳合理.<h3 id="跳转"><a href="#跳转" class="headerlink" title="跳转"></a>跳转</h3></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">navigate(&apos;Detail&apos;,&#123;</span><br><span class="line">                   title:&apos;图片详情&apos;,</span><br><span class="line">                   url:item.url,</span><br><span class="line">                   &#125;);</span><br></pre></td></tr></table></figure>
<p><code>Detail</code>：在StackNavigator中注册的页面，需要一一对应，才能跳转到相应的页面<br><code>title</code>：在跳转的页面可以通过<code>this.props.navigation.state.params.title</code>获取到这个参数。当然这个参数可以随便填写，都可以通过<code>this.props.navigation.state.params.xxx</code>获取。</p>
<h3 id="回调传参"><a href="#回调传参" class="headerlink" title="回调传参"></a>回调传参</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">navigate(&apos;Detail&apos;,&#123;</span><br><span class="line">                   // 跳转的时候携带一个参数去下个页面</span><br><span class="line">                   callback: (data)=&gt;&#123;</span><br><span class="line">                         console.log(data); // 打印值为：&apos;回调参数&apos;</span><br><span class="line">                     &#125;</span><br><span class="line">                   &#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const &#123;navigate,goBack,state&#125; = this.props.navigation;</span><br><span class="line">// 在第二个页面,在goBack之前,将上个页面的方法取到,并回传参数,这样回传的参数会重走render方法</span><br><span class="line">state.params.callback(&apos;回调参数&apos;);</span><br><span class="line">goBack();</span><br></pre></td></tr></table></figure>
<p>###自定义<br>项目中基本是没可能用自带的那个导航条的，自带导航条左侧的按钮永远是蓝色的，如果我们需要更改按钮颜色，就需要用到自定义的功能了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">const StackOptions = (&#123;navigation&#125;) =&gt; &#123;</span><br><span class="line">    console.log(navigation);</span><br><span class="line">    let &#123;state,goBack&#125; = navigation;</span><br><span class="line">    </span><br><span class="line">    // 用来判断是否隐藏或显示header</span><br><span class="line">    const visible= state.params.isVisible;</span><br><span class="line">    let header;</span><br><span class="line">    if (visible === true)&#123;</span><br><span class="line">        header = null;</span><br><span class="line">    &#125;</span><br><span class="line">    const headerStyle = &#123;backgroundColor:&apos;#4ECBFC&apos;&#125;;</span><br><span class="line">    const headerTitle = state.params.title;</span><br><span class="line">    const headerTitleStyle = &#123;fontSize:FONT_SIZE(20),color:&apos;white&apos;,fontWeight:&apos;500&apos;&#125;</span><br><span class="line">    const headerBackTitle = false;</span><br><span class="line">    const headerLeft = (</span><br><span class="line">        &lt;Button</span><br><span class="line">            isCustom=&#123;true&#125;</span><br><span class="line">            customView=&#123;</span><br><span class="line">                            &lt;Icon</span><br><span class="line">                                name=&apos;ios-arrow-back&apos;</span><br><span class="line">                                size=&#123;30&#125;</span><br><span class="line">                                color=&apos;white&apos;</span><br><span class="line">                                style=&#123;&#123;marginLeft:13&#125;&#125;</span><br><span class="line">                            /&gt;</span><br><span class="line">                        &#125;</span><br><span class="line">            onPress=&#123;()=&gt;&#123;goBack()&#125;&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">    );</span><br><span class="line">    return &#123;headerStyle,headerTitle,headerTitleStyle,headerBackTitle,headerLeft,header&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>然后通过下面的方法调用就可以自定制导航了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const MyApp = StackNavigator(&#123;</span><br><span class="line">    MyTab: &#123;</span><br><span class="line">        screen: MyTab,</span><br><span class="line">    &#125;,</span><br><span class="line">    Detail: &#123;</span><br><span class="line">        screen: Detail,</span><br><span class="line">        navigationOptions: (&#123;navigation&#125;) =&gt; StackOptions(&#123;navigation&#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">)&#125;;</span><br></pre></td></tr></table></figure>
<p>在页面中使用的时候，在跳转页面的时候需要传递<code>title</code>参数，才能看到效果哦。</p>
<h3 id="自定义tabbar"><a href="#自定义tabbar" class="headerlink" title="自定义tabbar"></a>自定义tabbar</h3><p>早上有人问我，tabbar的图标可不可以使用原图，选中状态下可不可以设置其他图标。研究了一下官方文档，发现<code>tabBarIcon</code>除了<code>tintColor</code>还有另一个属性，用来判断选中状态的<code>focused</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">tabBarIcon: (&#123;tintColor,focused&#125;) =&gt; (</span><br><span class="line">               focused</span><br><span class="line">                   ?</span><br><span class="line">                   &lt;Image</span><br><span class="line">                       source=&#123;&#123;uri : &apos;识兔&apos;&#125;&#125;</span><br><span class="line">                       style=&#123;tabBarIcon&#125;</span><br><span class="line">                   /&gt;</span><br><span class="line">                   :</span><br><span class="line">                   &lt;Image</span><br><span class="line">                       source=&#123;&#123;uri : &apos;干货&apos;&#125;&#125;</span><br><span class="line">                       style=&#123;[tabBarIcon, &#123;tintColor: tintColor&#125;]&#125;</span><br><span class="line">                   /&gt;</span><br><span class="line">           ),</span><br></pre></td></tr></table></figure>
<p>通过判断<code>focused</code>，选中状态下使用<code>识兔</code>图标，未选中状态使用<code>干货</code>图标。<br>如果想使用图标原来的样子，那就将<code>style</code>的<code>tintColor</code>去掉，这样就会显示图标原本的颜色。</p>
<p>####再封装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">export const TabOptions = (tabBarTitle,normalImage,selectedImage,navTitle) =&gt; &#123;</span><br><span class="line">    // console.log(navigation);</span><br><span class="line">    const tabBarLabel = tabBarTitle;</span><br><span class="line">    console.log(navTitle);</span><br><span class="line">    const tabBarIcon = ((&#123;tintColor,focused&#125;)=&gt; &#123;</span><br><span class="line">        return(</span><br><span class="line">            focused</span><br><span class="line">                ?</span><br><span class="line">                &lt;Image</span><br><span class="line">                    source=&#123;&#123;uri : normalImage&#125;&#125;</span><br><span class="line">                    style=&#123;[TabBarIcon, &#123;tintColor: tintColor&#125;]&#125;</span><br><span class="line">                /&gt;</span><br><span class="line">                :</span><br><span class="line">                &lt;Image</span><br><span class="line">                    source=&#123;&#123;uri : selectedImage&#125;&#125;</span><br><span class="line">                    style=&#123;[TabBarIcon, &#123;tintColor: tintColor&#125;]&#125;</span><br><span class="line">                /&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;);</span><br><span class="line">    const headerTitle = navTitle;</span><br><span class="line">    const headerTitleStyle = &#123;fontSize:FONT_SIZE(20),color:&apos;white&apos;&#125;;</span><br><span class="line">    // header的style</span><br><span class="line">    const headerStyle = &#123;backgroundColor:&apos;#4ECBFC&apos;&#125;;</span><br><span class="line">    return &#123;tabBarLabel,tabBarIcon,headerTitle,headerTitleStyle,headerStyle&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="在static中使用this方法"><a href="#在static中使用this方法" class="headerlink" title="在static中使用this方法"></a>在static中使用this方法</h3><p>我之前文章中是将<code>navaigationOptions</code>的方法写在了<code>app.js</code>中，没有在页面中通过<code>static navaigationOptions</code>来初始化页面，这段时间刚好有人问，所以在这里就写一下该怎么弄。</p>
<h5 id="首先需要在componentDidMount-中动态的添加点击事件"><a href="#首先需要在componentDidMount-中动态的添加点击事件" class="headerlink" title="首先需要在componentDidMount(){}中动态的添加点击事件"></a>首先需要在componentDidMount(){}中动态的添加点击事件</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">属性给params</span><br><span class="line">componentDidMount()&#123;</span><br><span class="line"></span><br><span class="line">    this.props.navigation.setParams(&#123;</span><br><span class="line">        title:&apos;自定义Header&apos;,</span><br><span class="line">        navigatePress:this.navigatePress</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">navigatePress = () =&gt; &#123;</span><br><span class="line">    alert(&apos;点击headerRight&apos;);</span><br><span class="line">    console.log(this.props.navigation);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="接下来就可以通过params方法来获取点击事件了"><a href="#接下来就可以通过params方法来获取点击事件了" class="headerlink" title="接下来就可以通过params方法来获取点击事件了"></a>接下来就可以通过params方法来获取点击事件了</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">static navigationOptions = (&#123; navigation, screenProps &#125;) =&gt; (&#123;</span><br><span class="line">        title: navigation.state.params?navigation.state.params.title:null,</span><br><span class="line">        headerRight:(</span><br><span class="line">            &lt;Text onPress=&#123;navigation.state.params?navigation.state.params.navigatePress:null&#125;&gt;</span><br><span class="line">                返回</span><br><span class="line">            &lt;/Text&gt;</span><br><span class="line">        )</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="让安卓实现push动画"><a href="#让安卓实现push动画" class="headerlink" title="让安卓实现push动画"></a>让安卓实现push动画</h3><p>之前我群里的讨论怎么让安卓实现类似iOS的push动画，后来翻看官方issues的时候，真的发现了实现push动画的代码，在这里共享下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 先引入这个方法</span><br><span class="line">import CardStackStyleInterpolator from &apos;react-navigation/src/views/CardStackStyleInterpolator&apos;;</span><br><span class="line"></span><br><span class="line">// 在StackNavigator配置headerMode的地方，使用transitionConfig添加</span><br><span class="line">&#123;</span><br><span class="line">    headerMode: &apos;screen&apos;,</span><br><span class="line">    transitionConfig:()=&gt;(&#123;</span><br><span class="line">        screenInterpolator:CardStackStyleInterpolator.forHorizontal,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="关于goBack返回指定页面"><a href="#关于goBack返回指定页面" class="headerlink" title="关于goBack返回指定页面"></a>关于goBack返回指定页面</h3><p><code>react-navigation</code>是提供了goBack()到指定页面的方法的，那就是在goBack()中添加一个参数，但当你使用<code>goBack(&#39;Main&#39;)</code>的时候，你会发现并没有跳转，原因是react-navigation默认goBack()中的参数是系统随机分配的<code>key</code>，而不是手动设置的<code>routeName</code>，而方法内部又没有提供可以获得<code>key</code>的方法，所以这里只能通过修改源码将<code>key</code>换成<code>routeName</code>了。<br>下面的内容直接引用了<code>hello老文</code>的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">把项目/node_modules/react-navigation/src/routers/StackRouter.js文件里的 </span><br><span class="line">const backRoute = state.routes.find((route: *) =&gt; route.key === action.key); </span><br><span class="line">改成 const backRoute = state.routes.find(route =&gt; route.routeName === action.key);</span><br><span class="line"></span><br><span class="line">但不是很完美, 这里的component要填想返回的组件的前一个组件的routeName, 比如你的栈里顺序是home1, home2, home3, home4, 在home4里要返回home2, 使用this.props.navigation.goBack(&apos;home3&apos;);; 并且又会带出一个问题: goBack()方法没反应了, 必须加个null进去, 写成goBack(null)...</span><br></pre></td></tr></table></figure>
<h3 id="关于goBack返回指定页面的修改完善版"><a href="#关于goBack返回指定页面的修改完善版" class="headerlink" title="关于goBack返回指定页面的修改完善版"></a>关于goBack返回指定页面的修改完善版</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">if (action.type === NavigationActions.BACK) &#123;</span><br><span class="line">    let backRouteIndex = null;</span><br><span class="line">    if (action.key) &#123;</span><br><span class="line"></span><br><span class="line">      const backRoute = state.routes.find(</span><br><span class="line">        /* $FlowFixMe */</span><br><span class="line">        /* 修改源码 */</span><br><span class="line">        route =&gt; route.routeName === action.key</span><br><span class="line">        /* (route: *) =&gt; route.key === action.key */</span><br><span class="line">      );</span><br><span class="line">      /* $FlowFixMe */</span><br><span class="line">      console.log(&apos;backRoute =====&apos;,backRoute);</span><br><span class="line">      backRouteIndex = state.routes.indexOf(backRoute);</span><br><span class="line">      console.log(&apos;backRoute =====&apos;,backRouteIndex);</span><br><span class="line">    &#125;</span><br><span class="line">    if (backRouteIndex == null) &#123;</span><br><span class="line">      return StateUtils.pop(state);</span><br><span class="line">    &#125;</span><br><span class="line">    if (backRouteIndex &gt;= 0) &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        routes: state.routes.slice(0, backRouteIndex+1),</span><br><span class="line">        index: backRouteIndex - 1 + 1,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>感谢群友<code>conan</code>的贡献，将源码改成上面的样子，就可以使用<code>goBack()</code>返回指定页面了，这样的优点不言而喻，但缺点就是每次调用<code>goBack()</code>，如果只是简单的返回上一页需要加上<code>null</code>参数，类似这样<code>goBack(null)</code>，</p>
<blockquote>
<p>如果这样修改，在滑动返回的时候，会有很大几率让项目卡死，请注意使用该方法，推荐集成redux。</p>
</blockquote>
<h3 id="关于快速点击会导致多次跳转的问题解决办法"><a href="#关于快速点击会导致多次跳转的问题解决办法" class="headerlink" title="关于快速点击会导致多次跳转的问题解决办法"></a>关于快速点击会导致多次跳转的问题解决办法</h3><p>感谢群友<code>编程大叔</code>的贡献，如果想解决快速点击跳转的问题，需要修改部分源码。</p>
<p><code>修改react-navigation目录下，scr文件夹中的addNavigationHelpers.js文件</code>，可以直接替换成下面的文本，也可以查看<a href="https://github.com/react-community/react-navigation/pull/1348/files" target="_blank" rel="noopener">原版链接</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"> export default function&lt;S: *&gt;(navigation: NavigationProp&lt;S, NavigationAction&gt;) &#123;</span><br><span class="line">  // 添加点击判断</span><br><span class="line">  let debounce = true;</span><br><span class="line">  return &#123;</span><br><span class="line">      ...navigation,</span><br><span class="line">      goBack: (key?: ?string): boolean =&gt;</span><br><span class="line">          navigation.dispatch(</span><br><span class="line">              NavigationActions.back(&#123;</span><br><span class="line">                  key: key === undefined ? navigation.state.key : key,</span><br><span class="line">              &#125;),</span><br><span class="line">          ),</span><br><span class="line">      navigate: (routeName: string,</span><br><span class="line">                 params?: NavigationParams,</span><br><span class="line">                 action?: NavigationAction,): boolean =&gt; &#123;</span><br><span class="line">          if (debounce) &#123;</span><br><span class="line">              debounce = false;</span><br><span class="line">              navigation.dispatch(</span><br><span class="line">                  NavigationActions.navigate(&#123;</span><br><span class="line">                      routeName,</span><br><span class="line">                      params,</span><br><span class="line">                      action,</span><br><span class="line">                  &#125;),</span><br><span class="line">              );</span><br><span class="line">              setTimeout(</span><br><span class="line">                  () =&gt; &#123;</span><br><span class="line">                      debounce = true;</span><br><span class="line">                  &#125;,</span><br><span class="line">              500,</span><br><span class="line">              );</span><br><span class="line">              return true;</span><br><span class="line">          &#125;</span><br><span class="line">          return false;</span><br><span class="line">      &#125;,</span><br><span class="line">    /**</span><br><span class="line">     * For updating current route params. For example the nav bar title and</span><br><span class="line">     * buttons are based on the route params.</span><br><span class="line">     * This means `setParams` can be used to update nav bar for example.</span><br><span class="line">     */</span><br><span class="line">    setParams: (params: NavigationParams): boolean =&gt;</span><br><span class="line">      navigation.dispatch(</span><br><span class="line">        NavigationActions.setParams(&#123;</span><br><span class="line">          params,</span><br><span class="line">          key: navigation.state.key,</span><br><span class="line">        &#125;),</span><br><span class="line">      ),</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="安卓上，使用TextInput的时候会让TabBar顶起来的解决办法"><a href="#安卓上，使用TextInput的时候会让TabBar顶起来的解决办法" class="headerlink" title="安卓上，使用TextInput的时候会让TabBar顶起来的解决办法"></a>安卓上，使用TextInput的时候会让TabBar顶起来的解决办法</h3><p>最简单的解决办法就是在<code>android</code>目录中，添加一句话</p>
<p>目录：<code>android/app/src/main/AndroidManifest.xml</code>中，添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:windowSoftInputMode=&quot;stateAlwaysHidden|adjustPan|adjustResize&quot;</span><br></pre></td></tr></table></figure>
<p>ps：在iOS下如果想一劳永逸的解决键盘问题，请使用<code>IQKeyBoardManager</code>。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>react-navigation才开始用的时候感觉是复杂的，但用的多了，会感觉真的很不错。<br>如果在文章中有什么不懂的问题，欢迎在评论区评论，也可以发私信，加QQ群397885169一起讨论哦</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/26/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/26/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-26T10:39:53+08:00">
                2018-07-26
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/07/26/hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2018/07/26/hello-world/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">John Doe</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'WQsvngFBK5fCQ9nUgtn6PkV1-gzGzoHsz',
        appKey: 'z8y2iCSkbPQySGnx6b2We07s',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  

  

  
  

  

  

  

</body>
</html>
